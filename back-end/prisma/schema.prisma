datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model ProfessorOrientador {
  id                  Int                @id @default(autoincrement())
  cpf                 String             @unique
  nome                String
  email               String             @unique
  senha               String

  quantidadeInstituicoes Int
  quantidadeAlunos    Int

  linhasOrientacao    LinhaOrientacao[]
  cursosAtuacao       CursoAtuacao[]
  
  alunosOrientados    AlunoOrientado[]

  @@map("professororientador")
}

model LinhaOrientacao {
  id                  Int                @id @default(autoincrement())
  linha               String
  professorOrientador ProfessorOrientador @relation(fields: [professorOrientadorId], references: [id])
  professorOrientadorId Int
}

model CursoAtuacao {
  id                  Int                @id @default(autoincrement())
  curso               String
  professorOrientador ProfessorOrientador @relation(fields: [professorOrientadorId], references: [id])
  professorOrientadorId Int
}

model AlunoOrientado {
  id                  Int                @id @default(autoincrement())
  matricula           String
  nome                String
  email               String
  senha               String
  curso               String
  turma               String
  periodo             String
  semestre            String
  filaDependencia     Boolean
  professorOrientador ProfessorOrientador @relation(fields: [professorOrientadorId], references: [id])
  professorOrientadorId Int
  trabalhos           Trabalho[]
}

model Trabalho {
  id                  Int                @id @default(autoincrement())
  tema                String
  objetivo            String
  questaoProblema     String
  alunoOrientado      AlunoOrientado     @relation(fields: [alunoOrientadoId], references: [id])
  alunoOrientadoId    Int
}
